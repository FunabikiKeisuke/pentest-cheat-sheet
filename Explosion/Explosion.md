# Enumeration

We start, as always, with an nmap scan, resulting in open ports running RDP.

![image-20211222222448638](/home/funa/.config/Typora/typora-user-images/image-20211222222448638.png)

# Foothold

We will be using xfreerdp to connect from our Kali Linux machine. You can check if you have xfreerdp installed by typing the command name in the terminal. If the script's help menu is output to the terminal, then you are ready to go.

![image-20211222225058755](/home/funa/.config/Typora/typora-user-images/image-20211222225058755.png)

If you need to install xfreerdp, you can proceed with the following command:

```bash
$ sudo apt-get install freerdp2-xll
```

We can first try to form an RDP session with the target by not providing any additional information for any switches other than the target IP address. This will make the script use your own username as the login username for the RDP session, thus testing guest login capabilities.

![image-20211222234054908](/home/funa/.config/Typora/typora-user-images/image-20211222234054908.png)

As we can see from the output below, our own username is not accepted for the RDP session login mechanism. We can try a myriad of other default accounts, such as `user`, `admin`, `Administrator`, and so on. Let us take a look at the switches we will need to use with xfreerdp in order to connect to our target in this scenaro successfully:

```bash
/cert:ignore : Specifies to the scrips that all security certificate usage should be ignored.
/u:Administrator : Specifies the login username to be "Administrator".
/v:{target_IP} : Specifies the target IP of the host we would like to connect to.
```

![image-20211222234725009](/home/funa/.config/Typora/typora-user-images/image-20211222234725009.png)

The output is different this time, and during the initialization of the RDP session, we are asked for a `Password`. When promoted to enter the `Password` like in the output above, we can hit `Enter(without password)` to let the process continue without one.

The flag we are looking for is located on the `Desktop`

![image-20211222235551449](/home/funa/.config/Typora/typora-user-images/image-20211222235551449.png)

Once the file is opened, the flag is retrieved, and the machine is complete.

Congratulations!